# なろう小説検索API パラメータ仕様

## 出力GETパラメータ (Output GET Parameters)

### 1. gzip
- **型**: int
- **値の範囲**: 1-5
- **説明**: gzip圧縮してgzipファイルとして返します。gzip圧縮レベルを1～5で指定できます。
- **デフォルト**: 未指定

### 2. out
- **型**: string
- **取りうる値**: 
  - "yaml" (デフォルト)
  - "json"
  - "php"
  - "atom"
  - "jsonp"
- **説明**: 出力形式を指定できます。未指定時はYAMLになる。
- **デフォルト**: "yaml"

### 3. of
- **型**: string
- **値の形式**: ハイフン区切りのフィールドコード（例: "t-w-n"）
- **説明**: 出力する項目を個別に指定できます。未指定時は全項目出力されます。
- **デフォルト**: 全項目

### 4. lim
- **型**: int
- **値の範囲**: 1-500
- **説明**: 最大出力数を指定できます。指定しない場合は20件になります。
- **デフォルト**: 20

### 5. st
- **型**: int
- **値の範囲**: 1-2000
- **説明**: 表示開始位置の指定です。3と指定すれば3作品目以降の情報を取得。
- **デフォルト**: 未指定（最初の結果から開始）

### 6. order
- **型**: string
- **取りうる値**: 
  - "new" (新着更新順)
  - "favnovelcnt" (ブックマーク数の多い順)
  - "reviewcnt" (レビュー数の多い順)
  - "hyoka" (総合ポイントの高い順)
  - "hyokaasc" (総合ポイントの低い順)
  - "dailypoint" (日間ポイントの高い順)
  - "weeklypoint" (週間ポイントの高い順)
  - "monthlypoint" (月間ポイントの高い順)
  - "quarterpoint" (四半期ポイントの高い順)
  - "yearlypoint" (年間ポイントの高い順)
  - "impressioncnt" (感想の多い順)
  - "hyokacnt" (評価者数の多い順)
  - "hyokacntasc" (評価者数の少ない順)
  - "weekly" (週間ユニークユーザの多い順)
  - "lengthdesc" (作品本文の文字数が多い順)
  - "lengthasc" (作品本文の文字数が少ない順)
  - "generalfirstup" (初回掲載順)
  - "ncodeasc" (Nコード昇順)
  - "ncodedesc" (Nコード降順)
  - "old" (更新が古い順)
- **説明**: 出力順序を指定できます。指定しない場合は新着更新順となります。
- **デフォルト**: "new"

## 条件抽出GETパラメータ (Extraction Condition Parameters)

### 検索キーワード系

#### 1. word
- **型**: string
- **説明**: 検索キーワード（UTF-8エンコード、スペース区切りでAND検索）
- **マッチング**: 部分一致

#### 2. notword
- **型**: string
- **説明**: 除外キーワード（UTF-8エンコード）
- **マッチング**: 部分一致

### 検索対象系

#### 3. title
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1の場合はタイトルをwordとnotwordの抽出対象にする

#### 4. ex
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1の場合はあらすじをwordとnotwordの抽出対象にする

#### 5. keyword
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1の場合はキーワードをwordとnotwordの抽出対象にする

#### 6. wname
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1の場合は作者名をwordとnotwordの抽出対象にする

### ジャンル系

#### 7. biggenre
- **型**: int または string
- **取りうる値**:
  - 0: 未選択
  - 1: 恋愛
  - 2: ファンタジー
  - 3: 文芸
  - 4: SF
  - 99: その他
  - 98: ノンジャンル
- **説明**: 大ジャンルでの絞り込み。ハイフン区切りで複数指定可能

#### 8. notbiggenre
- **型**: int または string
- **取りうる値**: biggenreと同じ
- **説明**: 大ジャンルの除外。ハイフン区切りで複数指定可能

#### 9. genre
- **型**: int または string
- **取りうる値**:
  - 0: 未選択〔未選択〕
  - 101: 異世界〔恋愛〕
  - 102: 現実世界〔恋愛〕
  - 201: ハイファンタジー〔ファンタジー〕
  - 202: ローファンタジー〔ファンタジー〕
  - 301: 純文学〔文芸〕
  - 302: ヒューマンドラマ〔文芸〕
  - 303: 歴史〔文芸〕
  - 304: 推理〔文芸〕
  - 305: ホラー〔文芸〕
  - 306: アクション〔文芸〕
  - 307: コメディー〔文芸〕
  - 401: VRゲーム〔SF〕
  - 402: 宇宙〔SF〕
  - 403: 空想科学〔SF〕
  - 404: パニック〔SF〕
  - 9901: 童話〔その他〕
  - 9902: 詩〔その他〕
  - 9903: エッセイ〔その他〕
  - 9904: リプレイ〔その他〕
  - 9999: その他〔その他〕
  - 9801: ノンジャンル〔ノンジャンル〕
- **説明**: 詳細ジャンルでの絞り込み。ハイフン区切りで複数指定可能

#### 10. notgenre
- **型**: int または string
- **取りうる値**: genreと同じ
- **説明**: 詳細ジャンルの除外。ハイフン区切りで複数指定可能

### 作者・作品特定系

#### 11. userid
- **型**: int または string
- **説明**: 作者のユーザIDでの絞り込み。ハイフン区切りで複数指定可能

#### 12. ncode
- **型**: string
- **説明**: 小説のNコードでの絞り込み。ハイフン区切りで複数指定可能

### 内容要素系（含む）

#### 13. isr15
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「R15」が含まれている作品のみを抽出

#### 14. isbl
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「ボーイズラブ」が含まれている作品のみを抽出

#### 15. isgl
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「ガールズラブ」が含まれている作品のみを抽出

#### 16. iszankoku
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「残酷な描写あり」が含まれている作品のみを抽出

#### 17. istensei
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「異世界転生」が含まれている作品のみを抽出

#### 18. istenni
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「異世界転移」が含まれている作品のみを抽出

#### 19. istt
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「異世界転生」または「異世界転移」が含まれている作品のみを抽出

### 内容要素系（除外）

#### 20. notr15
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「R15」が含まれている作品を除外し抽出

#### 21. notbl
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「ボーイズラブ」が含まれている作品を除外し抽出

#### 22. notgl
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「ガールズラブ」が含まれている作品を除外し抽出

#### 23. notzankoku
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「残酷な描写あり」が含まれている作品を除外し抽出

#### 24. nottensei
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「異世界転生」が含まれている作品を除外し抽出

#### 25. nottenni
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、作品に含まれる要素に「異世界転移」が含まれている作品を除外し抽出

### 文字数・時間系

#### 26. minlen
- **型**: int
- **説明**: 抽出する作品の最小文字数を指定。文字数は作品から一部タグ記号(改ページ等)、ルビ、ルビのふりがな部分、みてみんの画像挿入コード、スペース、改行を抜いた値

#### 27. maxlen
- **型**: int
- **説明**: 抽出する作品の最大文字数を指定。文字数は作品から一部タグ記号(改ページ等)、ルビ、ルビのふりがな部分、みてみんの画像挿入コード、スペース、改行を抜いた値

#### 28. length
- **型**: int または string
- **取りうる値**:
  - 具体的な文字数（例: 10000）
  - 範囲指定（例: 2000-3000）
  - 文字数以上（例: 10000-）
  - 文字数以下（例: -15000）
- **説明**: 作品の文字数での絞り込み。minlenまたはmaxlenと併用不可。文字数は作品から一部タグ記号(改ページ等)、ルビ、ルビのふりがな部分、みてみんの画像挿入コード、スペース、改行を抜いた値。

#### 29. mintime
- **型**: int
- **説明**: 抽出する作品の最低読了時間を分単位で指定。読了時間は作品文字数÷500を切り上げした数字

#### 30. maxtime
- **型**: int
- **説明**: 抽出する作品の最大読了時間を分単位で指定。読了時間は作品文字数÷500を切り上げした数字

#### 31. time
- **型**: int または string
- **取りうる値**:
  - 具体的な時間（分単位、例: 10）
  - 範囲指定（例: 30-100）
  - 時間以上（例: 10-）
  - 時間以下（例: -10）
- **説明**: 読了時間での絞り込み。読了時間は作品文字数÷500を切り上げした数値。mintimeまたはmaxtimeと併用不可。

### 作品特徴系

#### 32. kaiwaritu
- **型**: int または string
- **取りうる値**:
  - 具体的な会話率（%単位、例: 30）
  - 範囲指定（例: 10-50）
  - 会話率以上（例: 50-）
  - 会話率以下（例: -50）
- **説明**: 会話率での絞り込み。%単位で指定。

#### 33. sasie
- **型**: int または string
- **取りうる値**:
  - 具体的な挿絵数（例: 3）
  - 範囲指定（例: 1-5）
  - 挿絵数以上（例: 1-）
- **説明**: 挿絵数での絞り込み。

#### 34. type
- **型**: string
- **取りうる値**:
  - "t": 短編
  - "r": 連載中
  - "er": 完結済連載作品
  - "re": すべての連載作品（連載中および完結済）
  - "ter": 短編と完結済連載作品
- **説明**: 作品タイプでの絞り込み

#### 35. buntai
- **型**: int または string
- **取りうる値**:
  - 1: 字下げされておらず、連続改行が多い作品
  - 2: 字下げされていないが、改行数は平均な作品
  - 4: 字下げが適切だが、連続改行が多い作品
  - 6: 字下げが適切でかつ改行数も平均な作品
- **説明**: 文体での絞り込み。ハイフン区切りでOR検索可能。

#### 36. stop
- **型**: int
- **取りうる値**:
  - 1: 長期連載停止中を除く
  - 2: 長期連載停止中のみ取得
- **説明**: 連載停止状況での絞り込み。長期連載停止中の定義は未完結の連載中作品で最終掲載日から63日以上経過しているもの。

### 特殊系

#### 37. ispickup
- **型**: int
- **取りうる値**: 1 または 0
- **説明**: 1を指定した場合、小説ピックアップの対象となっている作品のみを抽出

### 日付系

#### 38. lastup
- **型**: string
- **取りうる値**:
  - "thisweek": 今週（日曜日の午前0時はじまり）
  - "lastweek": 先週
  - "sevenday": 過去7日間（7日前の午前0時はじまり）
  - "thismonth": 今月
  - "lastmonth": 先月
  - UNIXタイムスタンプ範囲（例: 1262271600-1264949999）
- **説明**: 最終掲載日（general_lastup）での絞り込み

#### 39. lastupdate
- **型**: string
- **取りうる値**:
  - "thisweek": 今週（日曜日の午前0時はじまり）
  - "lastweek": 先週
  - "sevenday": 過去7日間（7日前の午前0時はじまり）
  - "thismonth": 今月
  - "lastmonth": 先月
  - UNIXタイムスタンプ範囲（例: 1262271600-1264949999）
- **説明**: 最終更新日（novelupdated_at）での絞り込み

### 出力制御系

#### 40. opt
- **型**: string
- **取りうる値**:
  - "weekly": 週間ユニークユーザ項目を追加
- **説明**: オプション項目の追加。weeklyを指定すると週間ユニークユーザ[weekly_unique]が追加される。

## 備考

- 全パラメータは任意指定（省略可能）
- パラメータの組み合わせによる絞り込みが可能
- 一部のパラメータは相互に排他的（length と minlen/maxlen、time と mintime/maxtime など）
- 複数指定可能なパラメータはハイフン（-）区切りで指定
- 範囲指定は最小値-最大値の形式（例: 10-50）
- 以上指定は最小値-の形式（例: 10-）
- 以下指定は-最大値の形式（例: -50）
- 1 or 0の値を取るパラメータは1で条件有効、0で条件無効
- 数値の範囲外の値は無視される